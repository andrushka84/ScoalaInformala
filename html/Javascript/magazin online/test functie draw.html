<!DOCTYPE html>
<html lang="en">

<head>

    <title>Document</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.10/css/all.css" integrity="sha384-+d0P83n9kaQMCwj8F4RJB66tzIwOKmrdb46+porD/OvrJ+37WqIM7UoBtwHO6Nlg"
        crossorigin="anonymous">

    <script>

        function deseneazaCosul() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    var tabel = document.querySelector("#cart tbody");
                    var str = "";
                    var listaProduse = JSON.parse(this.responseText);

                    for (var i in listaProduse) {
                        var rand = `<tr>

                <td data-th="">
                    <div class="col-sm-2">
                        <img src=${listaProduse[i].poza} alt="" class="img-responsive" />
                    </div>
                </td>

                <td data-th="Product">
                        <div class="col-sm-10">${listaProduse[i].produs}</div>
                </td>

                <td data-th="Price">${listaProduse[i].pret}</td>

                <td data-th="Quantity">
                    <input type="number" class="form-control text-center" value="${listaProduse[i].cantitate}" />
                </td>

                <td data-th="Subtotal" class="text-center">${listaProduse[i].subtotal}</td>

                <td class="actions" data-th="">
                    <button class="btn btn-info btn-sm" id="refresh">
                        <i class="fas fa-sync-alt" onclick="actualizeazaCosul()"></i>
                    </button>
                    <button class="btn btn-danger btn-sm" id="delete" onclick="stergeProdusDinCos()">
                        <i class="fas fa-trash"></i>
                    </button>
                </td>
                </tr> `
                        str += rand;
                    }
                    console.log(str);
                    tabel.innerHTML = str;
                }
            };

            xhttp.open("GET", "https://shopping-cart-magazin-online.firebaseio.com/.json", true);
            xhttp.send();
        }


        function actualizeaza(){

             var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    
                    var listaProduse = JSON.parse(this.responseText);

                   
                    }
                   
                }
            

            xhttp.open("GET", "https://shopping-cart-magazin-online.firebaseio.com/.json", true);
            xhttp.send();

        }



    </script>

    <link rel="stylesheet" href="cart.css">

</head>

<body>
    <button onclick="deseneazaCosul()"> Deseneaza cosul </button>

    <div id="wrapper">
        <table id="cart" class="table table-hover table-condensed">
            <thead>
                <tr>
                    <th style="width:10%"></th>
                    <th style="width:40%">Produs</th>
                    <th style="width:10%">Pret</th>
                    <th style="width:8%">Cantitate</th>
                    <th style="width:22%" class="text-center">Subtotal</th>
                    <th style="width:10%"></th>
                </tr>
            </thead>
            <tbody id="tb">
                <!-- <td>
                    <div class="col-sm-2">
                        <img src="" alt="..." class="img-responsive" id="poza" />
                    </div>
                </td>

                <td data-th="Product">
                    <div class="row">
                        <div class="col-sm-10 " id="produs"></div>

                    </div>
                </td>

                <td data-th="Price" id="pret"></td>
                <td data-th="Quantity">
                    <input type="number" class="form-control text-center" value="1" id="cantitate">
                </td>
                <td data-th="Subtotal" class="text-center" id="subtotal"></td>
                <td class="actions" data-th="">
                    <button class="btn btn-info btn-sm" id="refresh">
                        <i class="fas fa-sync-alt" onclick="actualizeazaCosul()"></i>
                    </button>
                    <button class="btn btn-danger btn-sm" id="delete" onclick="stergeProdusDinCos()">
                        <i class="fas fa-trash"></i>
                    </button>
                </td>
                </tr> -->

            </tbody>
            <tfoot id="last">

                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td>
                    </td>
                    <td id="tva"></td>

                </tr>

                <tr>
                    <td>
                        <a href="card final.html" class="btn btn-warning">
                            <i class="fas fa-angle-left"></i> Continua cumparaturile</a>
                    </td>
                    <td colspan="2" class="hidden-xs"></td>
                    <td class="hidden-xs text-center">
                        <strong>Total
                            <span id="total"></span>
                        </strong>
                    </td>
                    <td></td>
                    <td>
                        <a href="checkout.html" class="btn btn-success btn-block">Checkout
                            <i class="fas fa-angle-right"></i>
                        </a>
                    </td>
                </tr>

                <tr>
                    <td>
                        <a class="btn btn-warning" id="sterge" onclick="stergeCosul()">
                            <i class="fas fa-trash-alt"></i>
                            Sterge cosul
                        </a>
                    </td>
                </tr>


            </tfoot>


        </table>



    </div>


</body>

</html>